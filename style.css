/* ========= BASE ========= */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Helvetica,Arial;
  color:#111827;
  background:#ffffff;
  line-height:1.58;
}
:root{
  --container:1100px;
  --muted:#6b7280;
  --border:#dfe3e8;
  --shadow:0 1px 2px rgba(16,24,40,.04),0 4px 10px rgba(16,24,40,.06);
  --radius:12px;
  --petroleo:#0f3e4d;
}
.container{max-width:var(--container);margin:0 auto;padding:0 16px}
.hidden{display:none!important}

/* ========= TOPBAR ========= */
.topbar{background:#f3f4f6;border-bottom:1px solid var(--border)}
.topbar__row{
  display:grid;
  grid-template-columns:auto minmax(0,1fr) minmax(0,1fr);
  gap:8px; align-items:center; min-height:60px; padding:8px 0;
}
.brand{font-weight:600;white-space:nowrap}
.topbar__filters{display:contents}

/* menus centrados no mobile */
@media(max-width:480px){
  .topbar__row{padding:6px 0}
  .select__menu,.multiselect__menu{
    position:fixed;
    top:66px;
    left:12px;               /* margem segura */
    right:12px;              /* margem segura */
    transform:none;
    width:auto;              /* usa left/right */
    max-width:none;
    padding:10px;            /* já conta no width */
    box-sizing:border-box;
    max-height:60vh;
    overflow:auto;
    z-index:100;
    border-radius:12px;
  }
}

/* ========= SELECT CUSTOM ========= */
.select,.multiselect{position:relative;min-width:0;width:100%}
.select__button,
.multiselect__control{
  width:100%;height:36px;padding:0 10px;border:1px solid var(--border);border-radius:10px;background:#fff;
  display:flex;align-items:center;justify-content:space-between;cursor:pointer;overflow:hidden
}
.select__menu,
.multiselect__menu{
  position:absolute;left:0;right:0;top:calc(100% + 6px);background:#fff;border:1px solid var(--border);
  border-radius:10px;box-shadow:var(--shadow);max-height:260px;overflow:auto;z-index:100;padding:6px
}
.select__option,
.multiselect__item{padding:8px 10px;border-radius:8px;cursor:pointer;line-height:1.6}
.select__option:hover,
.multiselect__item:hover{background:#f3f4f6}
.multiselect__item[aria-selected="true"]{background:#eef2ff}
.multiselect__input{border:0;outline:0;flex:1;min-width:60px;height:26px;font-size:14px}

/* backdrop para fechar ao clicar fora */
.dropdown-backdrop{position:fixed;inset:0;background:transparent;z-index:80}

/* ========= QUESTÕES ========= */
#cards{padding:16px 0 64px}
.q{padding:16px 0;border-top:4px solid #eceff3}
.q__meta{font-size:12px;color:var(--muted);margin-bottom:8px}
.q__stmt{font-weight:400;color:#103a9c;margin-bottom:10px;line-height:1.55}
.q__stmt p{margin:0 0 8px 0}
.q__opts{list-style:none;padding:0;margin:0;display:grid;gap:10px}
.q__opt{display:flex;align-items:flex-start;gap:10px;padding:6px 0;cursor:pointer}
.q__opt > div:last-child{color:#454141}
.q__badge{
  width:28px;height:28px;border:2px solid #cbd5e1;border-radius:999px;display:flex;align-items:center;justify-content:center;
  font-weight:700;font-size:13px;flex:0 0 28px;user-select:none;background:#fff
}
.q__opt.correct .q__badge{border-color:#22c55e;background:#dcfce7;color:#065f46}
.q__opt.wrong .q__badge{border-color:#ef4444;background:#fee2e2;color:#991b1b}
.q__explain{margin-top:8px;font-size:13px;color:#0f172a}

/* ========= AÇÕES ========= */
.q__actions{display:flex;gap:10px;margin-top:10px}
.btn{height:34px;padding:0 12px;border:1px solid var(--border);border-radius:10px;background:#eeeeee;cursor:pointer}
.btn:hover{background:#e7e7e7}
.popover{position:relative}
.popover__menu{
  position:absolute;display:flex;flex-direction:column;gap:8px;bottom:calc(100% + 8px);left:0;background:#fff;border:1px solid var(--border);
  border-radius:12px;padding:8px;box-shadow:var(--shadow);z-index:50
}
.popover__menu.below{bottom:auto;top:calc(100% + 8px)}
.subbtn{height:30px;padding:0 10px;font-size:13px;border:1px solid #e5e7eb;border-radius:8px;background:#fff;cursor:pointer}
.subbtn:hover{background:#f9fafb}

/* ========= SENTINELA ========= */
#sentinela{height:1px}

/* limite do container dentro da topbar */
.topbar > .container{max-width:var(--container);margin:0 auto;padding:0 16px}

/* controles menores no mobile */
@media(max-width:480px){
  .topbar__row{grid-template-columns:auto 1fr 1fr; padding:6px 0}
  .select,.multiselect{min-width:0;width:100%}
}

/* ========= MODAL (CENTRADO) ========= */
.modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;z-index:60}
.modal:not(.hidden){display:flex}
.modal-backdrop{position:absolute;inset:0;background:rgba(0,0,0,.4)}
.modal-card{
  position:relative;z-index:1;
  width:min(720px,94vw);
  max-height:92vh;
  background:#fff;border-radius:18px;box-shadow:0 12px 32px rgba(0,0,0,.18);
  display:flex;flex-direction:column;overflow:hidden
}
.modal-head{display:flex;align-items:center;justify-content:space-between;padding:14px 16px 0;gap:12px}
.modal-body{padding:12px 16px 18px;overflow:auto}

/* Paleta */
.swatches{display:flex;gap:8px;padding:8px 0 6px;flex-wrap:wrap}
.swatch{width:22px;height:22px;border-radius:6px;border:2px solid #1112}
.swatch[aria-selected="true"]{outline:2px solid #111;outline-offset:2px}

/* Botão pequeno */
.btn-icon-round{
  width:28px;height:28px;padding:0;border-radius:9999px;display:inline-flex;align-items:center;justify-content:center;
  border:1px solid #e5e7eb;background:#fff
}
.btn-icon-round img{width:14px;height:14px}
.q__actions{display:flex;align-items:center;gap:8px}

/* ========= MODAL DE FRASES (SEM SCROLL HORIZONTAL) ========= */
#frases-modal .modal-card{
  width: min(1100px, 94vw);
  max-width: 100vw;
}
#frases-modal .modal-body{overflow-x:hidden}

/* colunas: 1 móvel, 2 médio, 3 desktop. Nunca 4 */
#frases-modal .frases-grid{
  display:grid;gap:16px;width:100%;max-width:100%;overflow-x:hidden;
  grid-template-columns:1fr;
}
@media (min-width:600px){
  #frases-modal .frases-grid{grid-template-columns:1fr 1fr}
}
@media (min-width:1024px){
  #frases-modal .frases-grid{grid-template-columns:1fr 1fr 1fr}
}

#frases-modal .frase-item{
  background:#f8f9fb;border:1px solid #e5e7eb;border-radius:12px;
  padding:12px;display:flex;flex-direction:column;align-items:center;gap:10px;width:100%;
}
#frases-modal .frase-canvas{width:100%;height:auto;display:block;border-radius:10px;background:#fff}
#frases-modal .btn-share-vert{
  align-self:center;padding:8px 12px;border:1px solid #e5e7eb;border-radius:999px;background:#fff;
  font:500 14px system-ui,-apple-system,Segoe UI,Roboto;
}
#frases-title{margin:8px 0 10px;font:700 22px system-ui,-apple-system,Segoe UI,Roboto}
#frases-sentinela{height:1px;width:100%}

/* ajustes extras mobile do modal */
@media (max-width:480px){
  #frases-modal .modal-card{margin:0;border-radius:12px;width:94vw}
  #frases-modal .modal-body{padding-left:12px;padding-right:12px}
}
/* Brand responsiva: texto completo no desktop, "MJ" no mobile */
.brand--short{ display:none; }
@media (max-width:480px){
  .brand--full{ display:none; }
  .brand--short{ display:inline; }
}
