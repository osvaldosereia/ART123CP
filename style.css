/* ========= BASE ========= */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Helvetica,Arial;
  color:#111827;
  background:#ffffff;
  line-height:1.58;
}
:root{
  --container:1100px;
  --muted:#6b7280;
  --border:#dfe3e8;
  --shadow:0 1px 2px rgba(16,24,40,.04),0 4px 10px rgba(16,24,40,.06);
  --radius:12px;
  --petroleo:#0f3e4d;
}
.container{max-width:var(--container);margin:0 auto;padding:0 16px}
.hidden{display:none!important}

/* ========= TOPBAR ========= */
.topbar{background:#f3f4f6;border-bottom:1px solid var(--border);position:sticky;top:0;z-index:90}
.topbar__row{
  display:grid;
  grid-template-columns:auto minmax(0,1fr) minmax(0,1fr);
  gap:8px; align-items:center; min-height:60px; padding:8px 0;
}
.brand{font-weight:600;white-space:nowrap}
.topbar__filters{display:contents}
.topbar > .container{max-width:var(--container);margin:0 auto;padding:0 16px}

/* ========= SELECTS ========= */
.select,.multiselect{position:relative;min-width:0;width:100%}
.select__button,
.multiselect__control{
  width:100%;height:36px;padding:0 10px;border:1px solid var(--border);border-radius:10px;background:#fff;
  display:flex;align-items:center;justify-content:space-between;cursor:pointer;overflow:hidden
}
.select__button:focus-visible,
.multiselect__control:focus-visible{outline:2px solid #103a9c;outline-offset:2px}
.select__menu,
.multiselect__menu{
  position:absolute;left:0;right:0;top:calc(100% + 6px);background:#fff;border:1px solid var(--border);
  border-radius:10px;box-shadow:var(--shadow);max-height:260px;overflow:auto;z-index:100;padding:6px;
  -webkit-overflow-scrolling:touch
}
.select__option,
.multiselect__item{padding:8px 10px;border-radius:8px;cursor:pointer;line-height:1.6}
.select__option:hover,
.multiselect__item:hover{background:#f3f4f6}
.multiselect__item[aria-selected="true"]{background:#eef2ff}
.multiselect__input{border:0;outline:0;flex:1;min-width:60px;height:26px;font-size:14px}

/* backdrop para fechar ao clicar fora */
.dropdown-backdrop{position:fixed;inset:0;background:transparent;z-index:80}

/* ========= QUESTÕES ========= */
#cards{padding:16px 0 64px}
.q{padding:16px 0;border-top:4px solid #eceff3}
.q__meta{font-size:12px;color:var(--muted);margin-bottom:8px}
.q__stmt{font-weight:400;color:#103a9c;margin-bottom:10px;line-height:1.55}
.q__stmt p{margin:0 0 8px 0}
.q__opts{list-style:none;padding:0;margin:0;display:grid;gap:10px}
.q__opt{display:flex;align-items:flex-start;gap:10px;padding:6px 0;cursor:pointer}
.q__opt > div:last-child{color:#454141}
.q__badge{
  width:28px;height:28px;border:2px solid #cbd5e1;border-radius:999px;display:flex;align-items:center;justify-content:center;
  font-weight:700;font-size:13px;flex:0 0 28px;user-select:none;background:#fff
}
.q__opt.correct .q__badge{border-color:#22c55e;background:#dcfce7;color:#065f46}
.q__opt.wrong .q__badge{border-color:#ef4444;background:#fee2e2;color:#991b1b}
.q__explain{margin-top:8px;font-size:13px;color:#0f172a}

/* ========= AÇÕES ========= */
.q__actions{display:flex;gap:10px;margin-top:10px;align-items:center}
.btn{height:34px;padding:0 12px;border:1px solid var(--border);border-radius:10px;background:#eeeeee;cursor:pointer}
.btn:hover{background:#e7e7e7}
.btn:focus-visible{outline:2px solid #103a9c;outline-offset:2px}
.popover{position:relative}
.popover__menu{
  position:absolute;display:flex;flex-direction:column;gap:8px;bottom:calc(100% + 8px);left:0;background:#fff;border:1px solid var(--border);
  border-radius:12px;padding:8px;box-shadow:var(--shadow);z-index:120
}
.popover__menu.below{bottom:auto;top:calc(100% + 8px)}
.subbtn{height:30px;padding:0 10px;font-size:13px;border:1px solid #e5e7eb;border-radius:8px;background:#fff;cursor:pointer}
.subbtn:hover{background:#f9fafb}
.subbtn:focus-visible{outline:2px solid #103a9c;outline-offset:2px}

/* Botões redondos pequenos */
.btn-icon-round{
  width:28px;height:28px;padding:0;border-radius:9999px;display:inline-flex;align-items:center;justify-content:center;
  border:1px solid #e5e7eb;background:#fff;cursor:pointer
}
.btn-icon-round:hover{background:#f5f5f5}
.btn-icon-round img,.btn-icon-round svg{width:14px;height:14px}

/* ========= SENTINELA ========= */
#sentinela{height:1px}

/* ========= MODAL BASE ========= */
.modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;z-index:110}
.modal:not(.hidden){display:flex}
.modal-backdrop{position:absolute;inset:0;background:rgba(0,0,0,.4);z-index:10}
.modal-card{
  position:relative;z-index:20;
  width:min(720px,94vw);
  max-height:92vh;
  background:#fff;border-radius:18px;box-shadow:0 12px 32px rgba(0,0,0,.18);
  display:flex;flex-direction:column;overflow:hidden
}
.modal-head{display:flex;flex-direction:column;gap:8px;padding:14px 16px 0;border-bottom:1px solid #eee}
.modal-body{padding:12px 16px 18px;overflow:auto}

/* ========= MODAL DE FRASES ========= */
#frases-modal .modal-card{width:min(1100px,94vw);max-width:100vw}
#frases-modal .modal-body{overflow-x:hidden}
#frases-title{margin:8px 0 10px;font:700 22px system-ui,-apple-system,Segoe UI,Roboto}
.swatches{display:flex;gap:8px;padding:8px 0 6px;flex-wrap:wrap}
.swatch{width:22px;height:22px;border-radius:6px;border:2px solid #1112}
.swatch[aria-selected="true"]{outline:2px solid #111;outline-offset:2px}
.swatch:focus-visible{outline:2px solid #103a9c;outline-offset:2px}

/* Grid de frases */
#frases-modal .frases-grid{
  display:grid;gap:16px;width:100%;max-width:100%;overflow-x:hidden;
  grid-template-columns:1fr;
}
@media (min-width:600px){
  #frases-modal .frases-grid{grid-template-columns:1fr 1fr}
}
@media (min-width:1024px){
  #frases-modal .frases-grid{grid-template-columns:1fr 1fr 1fr}
}
#frases-modal .frase-item{
  background:#f8f9fb;border:1px solid #e5e7eb;border-radius:12px;
  padding:12px;display:flex;flex-direction:column;align-items:center;gap:10px;width:100%;
}
#frases-modal .frase-canvas{width:100%;height:auto;display:block;border-radius:10px;background:#fff}
#frases-modal .btn-share-vert{
  align-self:center;padding:8px 12px;border:1px solid #e5e7eb;border-radius:999px;background:#fff;
  font:500 14px system-ui,-apple-system,Segoe UI,Roboto
}
#frases-sentinela{height:1px;width:100%}

/* ========= MODAL IMPRESSORA ========= */
#modal-impressora.modal{z-index:130}
#modal-impressora .modal-card{
  max-width:960px;height:90vh;margin:5vh 0;border-radius:12px;box-shadow:0 10px 30px rgba(0,0,0,.15)
}
#modal-impressora .modal-head__top{display:flex;align-items:center;justify-content:space-between;gap:12px}
#modal-impressora .imp-headbar{
  display:flex;align-items:center;justify-content:space-between;gap:16px;flex-wrap:wrap;padding:4px 0 6px;
  border-top:1px solid #eee;margin-top:8px
}
#modal-impressora .imp-headbar .layout-cols label{margin-right:12px;white-space:nowrap}
#modal-impressora .modal-foot{padding:12px 20px;border-top:1px solid #eee;display:flex;justify-content:flex-end}
#modal-impressora .modal-body{padding:16px;overflow:auto}
#modal-impressora .lista-questoes{min-height:200px}
#modal-impressora .loading{text-align:center;padding:12px;color:#777}
#imp-exportar.btn{background:#111;color:#fff;border-color:#111}
#imp-exportar.btn:disabled{opacity:.5;cursor:not-allowed}

/* Questões no modal */
.imp-card{padding:16px 0;border:none;border-top:4px solid #eceff3;background:transparent;border-radius:0;margin:0}
.imp-card:first-child{border-top:0}
.imp-card .q__meta{margin-bottom:8px;color:var(--muted);font-size:12px}
.imp-card .q__stmt{margin-bottom:10px;color:#103a9c}
.imp-card .q__opts{gap:10px}
.imp-selecionar{margin-top:10px;display:inline-flex;align-items:center;gap:8px}
.imp-selecionar input[type="checkbox"]{transform:scale(1.2)}

/* Lista dentro do modal */
#imp-lista .q{padding:16px 0;border-top:4px solid #eceff3}
#imp-lista .q:first-child{border-top:0;padding-top:0}
#imp-lista .q .q__meta{display:none}

/* ========= PÁGINA INICIAL ========= */
.welcome{
  text-align:center;
  padding:100px 16px;
  font-size:clamp(18px,2vw,22px);
  color:#0f3e4d;
  line-height:1.6;
}
.welcome .muted{
  display:block;
  font-size:clamp(15px,1.6vw,18px);
  color:#6b7280;
  margin-top:8px;
}

/* ========= BRAND ========= */
.brand--short{display:none}
@media (max-width:480px){
  .brand--full{display:none}
  .brand--short{display:inline}
}

/* ========= MOBILE AJUSTES ========= */
@media(max-width:480px){
  .topbar__row{grid-template-columns:auto 1fr 1fr; padding:6px 0}
  .select,.multiselect{min-width:0;width:100%}
  .select__menu,.multiselect__menu{
    position:fixed;
    top:60px; /* alinhado à topbar */
    left:12px;
    right:12px;
    transform:none;
    width:auto;
    max-width:none;
    padding:10px;
    box-sizing:border-box;
    max-height:60vh;
    overflow:auto;
    z-index:200;
    border-radius:12px;
  }
  #frases-modal .modal-card{margin:0;border-radius:12px;width:94vw}
  #frases-modal .modal-body{padding-left:12px;padding-right:12px}
}

/* ========= PRINT / PDF ========= */
@media print{
  .page{page-break-after:always}
}
.pdf-prova{max-width:794px;margin:0 auto;padding:12px 16px;font:400 12px system-ui}
.pdf-q{padding:12px 0;border-top:4px solid #eceff3}
.pdf-q:first-child{border-top:0}
.pdf-titulo{font-weight:700;margin:0 0 8px}
.pdf-enun{color:#103a9c;line-height:1.55;margin:0 0 8px}
.pdf-opts{list-style:none;padding:0;margin:0;display:grid;gap:8px}
.pdf-opt{display:flex;align-items:flex-start;gap:8px}
.pdf-badge{font-weight:700;border:2px solid #cbd5e1;border-radius:999px;min-width:22px;height:22px;display:flex;align-items:center;justify-content:center;font-size:12px}
.pdf-sep{border-top:1px solid #ddd;margin-top:8px}

.pdf-prova{ font: 400 11pt system-ui; }

#imp-nav{
  position:absolute;
  left:8px;
  top:50%;
  transform:translateY(-50%);
  display:flex;
  flex-direction:column;
  gap:8px;
  z-index:10;
}
#imp-nav .imp-nav-btn{
  width:28px;
  height:28px;
  border-radius:50%;
  border:1px solid #e5e7eb;
  background:#fff;
  font-size:16px;
  line-height:1;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
}
#imp-nav .imp-nav-btn:disabled{ opacity:.5; cursor:default; }
/* Navegação lateral do modal da impressora */
#modal-impressora { position: relative; }

#imp-nav {
  position: absolute;
  left: 8px;               /* dentro do modal, lado esquerdo */
  top: 50%;
  transform: translateY(-50%);
  display: flex;
  flex-direction: column;
  gap: 8px;
  z-index: 2;              /* acima do corpo da lista */
  pointer-events: none;    /* para o contêiner não bloquear rolagem */
}

#imp-nav .imp-nav-btn {
  pointer-events: auto;    /* mas os botões clicam */
  width: 28px;
  height: 28px;
  border-radius: 50%;
  border: 1px solid var(--border, #d1d5db);
  background: var(--bg, #fff);
  font-size: 14px;
  line-height: 1;
  display: grid;
  place-items: center;
  cursor: pointer;
  box-shadow: 0 1px 2px rgba(0,0,0,.06);
}
#imp-nav .imp-nav-btn:disabled {
  opacity: .45;
  cursor: default;
}

/* linha de ações do modal impressora */
.imp-actions-row {
  display: flex;
  align-items: center;
  flex-wrap: wrap;
  gap: 8px;                /* distância padrão entre botões */
}

/* botões mini de navegação */
.imp-mini{
  width: 28px;
  height: 28px;
  border-radius: 6px;
  border: 1px solid #d1d5db;
  background: #fff;
  display: grid;
  place-items: center;
  font-size: 14px;
  line-height: 1;
  cursor: pointer;
}

/* afasta Criar Prova de Exportar PDF um pouco mais */
.imp-gap-right{ margin-right: 8px; }
.imp-gap-left{  margin-left: 8px;  }
